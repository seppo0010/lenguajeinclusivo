(this.webpackJsonpweb2=this.webpackJsonpweb2||[]).push([[0],[,,,,,,,function(e,t){e.exports={main:{fields:["caratula","firmantes","titulo","content","URL"],storeFields:["URL","ExpId","actId"],idField:"numeroDeExpediente"},search:{combineWith:"AND",prefix:function(e){return e.length>3},fuzzy:function(e){return e.length>3&&.2}}}},,,,,,,,function(e,t,c){},,function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(8),i=c.n(r),s=(c(15),c(3)),u=c(6),o=c.n(u),j=c(9),l=c(2),d=c.p+"static/media/system-search-symbolic.2e215c42.svg",h=(c(17),c(18),c(0));var f=function(e){return Object(h.jsx)("div",{className:"box",id:e.id,children:e.children})};c(20);var b=function(e){return Object(h.jsx)(f,{children:Object(h.jsx)("form",{onSubmit:function(e){e.preventDefault()},children:Object(h.jsxs)("fieldset",{children:[e.title&&Object(h.jsx)("legend",{children:e.title}),e.children]})})})},O=c(4),x=(c(21),function(e){var t=e.selected,c=e.onClick,n=Object(O.a)(e,["selected","onClick"]);return Object(h.jsx)("a",Object(s.a)(Object(s.a)({className:"button ".concat(t?"selected":null),onClick:function(e){c&&c(n)}},n),{},{children:n.children}))});c(22);var m=function(e){var t=e.text,c=e.term,r=e.length,i=Object(n.useState)(Object(h.jsx)(a.a.Fragment,{children:t})),s=Object(l.a)(i,2),u=s[0],o=s[1];return Object(n.useEffect)((function(){var e=function(){o(Object(h.jsx)(a.a.Fragment,{children:Object(h.jsx)("span",{className:"no-hl",children:r?t.slice(0,r):t})}))};if(c){var n=t.search(new RegExp(c,"i"));-1!==n?o(Object(h.jsxs)(a.a.Fragment,{children:[Object(h.jsx)("span",{className:"no-hl",children:t.slice(r?Math.max(0,n-r/2):0,n)}),Object(h.jsx)("span",{className:"hl",children:t.slice(n,n+c.length)}),Object(h.jsx)("span",{className:"no-hl",children:r?t.slice(n+c.length,n+c.length+r/2):t.slice(n+c.length)})]})):e()}else e()}),[t,c,r]),Object(h.jsx)("span",{children:u})};var v=function(e){var t=e.data,c=e.search,a=Object(n.useState)(!1),r=Object(l.a)(a,2),i=r[0],s=r[1];return Object(h.jsxs)(f,{children:[Object(h.jsx)("div",{children:Object(h.jsx)(m,{text:t.content,term:c.term,length:i?0:200})}),Object(h.jsxs)("div",{children:[Object(h.jsx)(x,{onClick:function(){return s(!i)},selected:i,children:"expandir"}),Object(h.jsx)(x,{href:t.MirrorURL,children:"descargar"})]})]})};var g=function(e){var t=e.data,c=e.search;return Object(h.jsx)(b,{title:Object(h.jsx)(m,{text:"".concat(new Date(t.fechaFirma).toLocaleDateString("es-AR")," - ").concat(t.titulo),term:c.term}),children:t.documentos.map((function(e){return Object(h.jsx)(v,{data:e,search:c},e.URL)}))})},p=c(7),S=c.n(p),E=c(10);function F(e){var t=e.file,c=e.search,a=Object(n.useState)(),r=Object(l.a)(a,2),i=r[0],s=r[1],u=Object(n.useState)(),o=Object(l.a)(u,2),j=o[0],d=o[1],f=Object(n.useState)(),b=Object(l.a)(f,2),O=b[0],x=b[1];return Object(n.useEffect)((function(){d(void 0),s(void 0),fetch("".concat("/lenguajeinclusivo","/data/").concat(t,".json")).then((function(e){return e.json()})).then(s).catch((function(e){d((function(t){return t+"DATA: "+e.toString()}))}))}),[t]),Object(n.useEffect)((function(){d(void 0),fetch("".concat("/lenguajeinclusivo","/data/").concat(t,"-index.json")).then((function(e){return e.text()})).then((function(e){var t=E.a.loadJSON(e,S.a.main);x(t)})).catch((function(e){d((function(t){return t+"INDEX:"+e.toString()}))}))}),[t]),j?Object(h.jsx)("h2",{children:j}):i&&O?Object(h.jsx)(D,{data:i,search:{term:c,minisearch:O}}):Object(h.jsx)("p",{children:"loading ..."})}function D(e){var t=e.data,c=t.Actuaciones,a=t.caratula,r=e.search,i=Object(n.useState)(),u=Object(l.a)(i,2),o=u[0],j=u[1];return Object(n.useEffect)((function(){if(r.term){for(var e=r.minisearch.search(r.term,S.a.search),t=[],n=[],a=0;a<e.length;a++)t.push(e[a].actId),n.push(e[a].URL);j(c.filter((function(e){return t.includes(e.actId)})).map((function(e){var t=e.documentos,c=Object(O.a)(e,["documentos"]);return Object(s.a)(Object(s.a)({},c),{},{documentos:t.filter((function(e){return n.includes(e.URL)}))})})))}else j(c)}),[c,r]),Object(h.jsx)(b,{title:Object(h.jsx)(m,{text:a,term:r.term}),children:o&&o.map((function(e){return Object(h.jsx)(g,{data:e,search:r},e.actId||e.fechaFirma)}))})}var N=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),i=Object(l.a)(r,2),u=i[0],O=i[1],m=Object(n.useState)(),v=Object(l.a)(m,2),g=v[0],p=v[1];return Object(n.useEffect)((function(){Object(j.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("/lenguajeinclusivo","/data/expedientes.json"));case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,O(c);case 7:case"end":return e.stop()}}),e)})))()}),[]),Object(n.useEffect)((function(){!g&&u.length&&p(u[0])}),[u,g]),Object(n.useEffect)((function(){u.length&&u.forEach((function(e){fetch("".concat("/lenguajeinclusivo","/data/").concat(e.file,".json")),fetch("".concat("/lenguajeinclusivo","/data/").concat(e.file,"-index.json"))}))}),[u]),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(f,{id:"title",children:Object(h.jsx)("h1",{children:"Buscador de Actuaciones de O.D.I.A."})}),Object(h.jsxs)(b,{title:"buscar",children:[Object(h.jsx)("input",{type:"search",id:"search-input",name:"search",onChange:function(e){e.preventDefault(),a(e.target.value)},value:c,placeholder:"buscar..."}),Object(h.jsx)("img",{src:d,alt:""})]}),Object(h.jsxs)(b,{title:"expedientes",children:[u.length?u.map((function(e,t){var c=e.id;return Object(h.jsx)(x,{onClick:function(e){return p(u[t])},selected:g===u[t],children:c},t)})):Object(h.jsx)("p",{children:"loading..."}),void 0!==g&&Object(h.jsx)(F,Object(s.a)(Object(s.a)({},g),{},{search:c}))]})]})},C=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,24)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),r(e),i(e)}))};i.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(N,{})}),document.getElementById("root")),C()}],[[23,1,2]]]);
//# sourceMappingURL=main.e80317e6.chunk.js.map